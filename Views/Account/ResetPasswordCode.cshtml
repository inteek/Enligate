@using sw_EnligateWeb.Models;

@{
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
    ViewBag.Title = "Enligate";
}

<!-- Content -->
<div class="row">
    <div class="col-sm-12">
        <div class="col-sm-offset-1">

            <div class="mTitle2 text-uppercase text-center mSpaceMt30 mSpaceMb30">
                Restablecimiento de contraseña
            </div>

            @if (ViewBag.UsuarioNombre != "")
            { 
            <div class="col-lg-offset-4 col-lg-4 col-sm-offset-3 col-sm-6 col-xs-offset-1 col-xs-10 text-justify">
                <p>
                    Hola @ViewBag.UsuarioNombre!
                </p>
                <p>
                    Solicitaste el cambio de contraseña de tu cuenta.
                </p>
                <p>
                    Ingresa tu nueva contraseña.
                </p>
            </div>

            <div class="col-lg-offset-4 col-lg-4 col-sm-offset-3 col-sm-6 col-xs-offset-1 col-xs-10">
                @using (Ajax.BeginForm("_ResetPasswordCodeForm", new AjaxOptions { HttpMethod = "Post", UpdateTargetId = "frmPasswordRecovery", OnSuccess = "showMessages();" }))
                {
                    <fieldset id="frmPasswordRecovery">
                        @{ Html.RenderPartial("Account/_ResetPasswordCodeForm"); }
                    </fieldset>
                }
            </div>
            }

        </div>
    </div>
</div>

<div class="hidden m-messageHide">
    @Html.Partial("_ModalState_Errors")
</div>

@section scripts{
    <script type="text/javascript">
        @if(ViewBag.jsScript != null)
        {
            <text>
                @(new HtmlString(ViewBag.jsScript))
            </text>
        }
        
        $(document).ready(function () {
            showMessages();
        });
    </script>
}